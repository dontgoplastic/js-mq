{"version":3,"file":null,"sources":["../../node_modules/matchmedia-polyfill/matchMedia.js","../../node_modules/matchmedia-polyfill/matchMedia.addListener.js","../../node_modules/es6-promise-debounce/src/es6-promise-debounce.js","../../src/js-mq-rule.js","../../src/js-mq.js","demo.js"],"sourcesContent":["/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */\n\nwindow.matchMedia || (window.matchMedia = function() {\n    \"use strict\";\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n    var styleMedia = (window.styleMedia || window.media);\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n        var style       = document.createElement('style'),\n            script      = document.getElementsByTagName('script')[0],\n            info        = null;\n\n        style.type  = 'text/css';\n        style.id    = 'matchmediajs-test';\n\n        script.parentNode.insertBefore(style, script);\n\n        // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n        info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n        styleMedia = {\n            matchMedium: function(media) {\n                var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n                // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n                if (style.styleSheet) {\n                    style.styleSheet.cssText = text;\n                } else {\n                    style.textContent = text;\n                }\n\n                // Test if media query is true or false\n                return info.width === '1px';\n            }\n        };\n    }\n\n    return function(media) {\n        return {\n            matches: styleMedia.matchMedium(media || 'all'),\n            media: media || 'all'\n        };\n    };\n}());\n","/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */\n(function(){\n    // Bail out for browsers that have addListener support\n    if (window.matchMedia && window.matchMedia('all').addListener) {\n        return false;\n    }\n\n    var localMatchMedia = window.matchMedia,\n        hasMediaQueries = localMatchMedia('only all').matches,\n        isListening     = false,\n        timeoutID       = 0,    // setTimeout for debouncing 'handleChange'\n        queries         = [],   // Contains each 'mql' and associated 'listeners' if 'addListener' is used\n        handleChange    = function(evt) {\n            // Debounce\n            clearTimeout(timeoutID);\n\n            timeoutID = setTimeout(function() {\n                for (var i = 0, il = queries.length; i < il; i++) {\n                    var mql         = queries[i].mql,\n                        listeners   = queries[i].listeners || [],\n                        matches     = localMatchMedia(mql.media).matches;\n\n                    // Update mql.matches value and call listeners\n                    // Fire listeners only if transitioning to or from matched state\n                    if (matches !== mql.matches) {\n                        mql.matches = matches;\n\n                        for (var j = 0, jl = listeners.length; j < jl; j++) {\n                            listeners[j].call(window, mql);\n                        }\n                    }\n                }\n            }, 30);\n        };\n\n    window.matchMedia = function(media) {\n        var mql         = localMatchMedia(media),\n            listeners   = [],\n            index       = 0;\n\n        mql.addListener = function(listener) {\n            // Changes would not occur to css media type so return now (Affects IE <= 8)\n            if (!hasMediaQueries) {\n                return;\n            }\n\n            // Set up 'resize' listener for browsers that support CSS3 media queries (Not for IE <= 8)\n            // There should only ever be 1 resize listener running for performance\n            if (!isListening) {\n                isListening = true;\n                window.addEventListener('resize', handleChange, true);\n            }\n\n            // Push object only if it has not been pushed already\n            if (index === 0) {\n                index = queries.push({\n                    mql         : mql,\n                    listeners   : listeners\n                });\n            }\n\n            listeners.push(listener);\n        };\n\n        mql.removeListener = function(listener) {\n            for (var i = 0, il = listeners.length; i < il; i++){\n                if (listeners[i] === listener){\n                    listeners.splice(i, 1);\n                }\n            }\n        };\n\n        return mql;\n    };\n}());\n","(function() {\r\n\r\n    \"use strict\";\r\n\r\n    module.exports = function(func, wait, immediate) {\r\n\r\n        var timeout;\r\n        return function() {\r\n\r\n            var context = this, args = arguments;\r\n\r\n            return new Promise(function(resolve) {\r\n                var later = function() {\r\n                    timeout = null;\r\n                    if (!immediate) resolve(func.apply(context, args));\r\n                };\r\n\r\n                var callNow = immediate && !timeout;\r\n                clearTimeout(timeout);\r\n                timeout = setTimeout(later, wait);\r\n\r\n                if (callNow) resolve(func.apply(context, args));\r\n            });\r\n        };\r\n    };\r\n\r\n})();\r\n","export default class {\n\n  // (on[, from], cbOn[, cbOff][, always])\n  constructor({args, config}) {\n\n    let on = null;\n    let from = '*';\n    let cbOn = null;\n    let cbOff = null;\n    let alwaysTrigger = false;\n\n    for (const arg of args) {\n      switch (typeof arg) {\n        case 'string':\n          if (on === null) {\n            on = arg;\n          } else {\n            from = arg;\n          }\n          break;\n        case 'function':\n          if (cbOn === null) {\n            cbOn = arg;\n          } else {\n            cbOff = arg;\n          }\n          break;\n        case 'boolean':\n          alwaysTrigger = arg;\n      }\n    }\n\n    Object.assign(this, {\n      isActive: null,\n      matchesOn: parseMatchInputString(on, config.inversePrefix),\n      matchesFrom: parseMatchInputString(from, config.inversePrefix),\n      cbOn, cbOff, alwaysTrigger\n    });\n\n  }\n\n  exec(currState, prevState) {\n    const matchesCurr = testState(this.matchesOn, currState);\n    const matchesPrev = testState(this.matchesFrom, prevState);\n\n    const shouldBeEnabled = matchesCurr && matchesPrev;\n\n    if (shouldBeEnabled && (!this.isActive || this.alwaysTrigger)) {\n      this.isActive = true;\n      this.cbOn();\n    } else if (shouldBeEnabled === false && (this.isActive === null || this.isActive)) {\n      this.isActive = false;\n      if (this.cbOff) {\n        this.cbOff();\n      }\n    }\n  }\n}\n\nfunction testState(matches, state) {\n  if (matches === true) return true;\n\n  return matches.some(match => {\n    const includes = state.includes(match.testAgainst);\n    return match.isInverse ? !includes : includes;\n  });\n}\n\nfunction parseMatchInputString(inputString, inversePrefix) {\n  if (inputString === '*' || inputString.includes('*')) {\n    return true;\n  } else {\n    return inputString.split(' ').map(match => {\n      const isInverse = match.startsWith(inversePrefix);\n      const testAgainst = isInverse ?\n          match.substring(inversePrefix.length):\n          match;\n      return {match, isInverse, testAgainst};\n    });\n  }\n}","import 'matchmedia-polyfill';\nimport 'matchmedia-polyfill/matchMedia.addListener.js';\nimport debounce from 'es6-promise-debounce';\nimport QueryRule from './js-mq-rule';\n\nconst config = {\n  inversePrefix: 'not-',\n  disallowedNames: /[^a-z-]/g\n};\n\nconst queries = [];\nconst queryRules = [];\n\nlet readyCallbacks = [];\nlet prevState = null;\nlet currState = [];\n\n\nfunction updateState() {\n\n  prevState = currState;\n  currState = [];\n\n  for (const {name, list} of queries) {\n    if (list.matches) {\n      currState.push(name);\n    } else {\n      currState.push(config.inversePrefix + name);\n    }\n  }\n\n  if (readyCallbacks) {\n    readyCallbacks.forEach(cb => cb());\n    readyCallbacks = null;\n  }\n\n}\n\nconst updateStateAndExecRules = debounce(function updateStateAndExecRules() {\n  updateState();\n  execQueryRules();\n}, 0);\n\n\nfunction register(val) {\n  if (Array.isArray(val)) {\n    val.forEach(o => doRegister(o));\n  } else {\n    doRegister(val);\n  }\n\n  // ideally register all queries prior to adding rules\n  if (queryRules.length) {\n    updateStateAndExecRules();\n  }\n}\n\nfunction doRegister({name, query}) {\n\n  if (config.disallowedNames.test(name) === true) {\n    throw new Error(`Registered media query name '${name}' not allowed`);\n  }\n  if (queries.some(el => el.name == name && el.query !== query)) {\n    throw new Error(`Registered media queries must be unique. Attempted to register conflicting query rules for '${name}'`);\n  }\n\n  const list  = window.matchMedia(query);\n  queries.push({name, query, list});\n\n  list.addListener(updateStateAndExecRules);\n\n}\n\n\nfunction on(...args) {\n  queryRules.push( new QueryRule({args, config}) );\n  updateStateAndExecRules();\n}\n\n\nfunction is(name) {\n  return getState().includes(name);\n}\n\nfunction ready(cb) {\n  readyCallbacks ? readyCallbacks.push(cb) : cb();\n}\n\nfunction execQueryRules() {\n  queryRules.forEach(cb => cb.exec(getState(), prevState));\n}\n\nfunction getState() {\n  if (!prevState) updateState();\n  return currState;\n}\n\nconst mq = {\n  config, on, is, register, getState, ready,\n  trigger: execQueryRules\n};\n\nexport default mq;","import mq from '../../src/js-mq';\n\nmq.register([\n    {name: 'xs', query: '(max-width: 767px)'},\n    {name: 'sm', query: '(min-width: 768px) and (max-width: 991px)'},\n    {name: 'md', query: '(min-width: 992px) and (max-width: 1199px)'},\n    {name: 'lg', query: '(min-width: 1200px)'}\n]);\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    const states = [];\n    const classUpdateAnim = 'mq-item--anim-flash';\n    const classActive = 'mq-item--active';\n    const classInactive = 'mq-item--inactive';\n\n    function updateQueryTable() {\n        window.requestAnimationFrame(() => {\n\n            for (const state of states) {\n                let {active, updated, el} = state;\n\n                if (updated) {\n                    if (active) {\n                        el.classList.remove(classInactive);\n                        el.classList.add(classActive, classUpdateAnim);\n                    } else {\n                        el.classList.remove(classActive);\n                        el.classList.add(classInactive, classUpdateAnim);\n                    }\n                    state.updated = false;\n                }\n            }\n\n        });\n    }\n\n    Array.from(document.querySelectorAll('.js-mq-item')).forEach(el => {\n\n        const on = el.dataset.mq;\n        const from = el.dataset.mqFrom || '*';\n\n        el.addEventListener('animationend', () => {\n            window.requestAnimationFrame(() => {\n                el.classList.remove(classUpdateAnim);\n            });\n        });\n\n        const state = {\n            el,\n            active: false,\n            updated: false,\n        };\n\n        states.push(state);\n\n        mq.on(on, from, () => {\n            state.active = true;\n            state.updated = true;\n        }, () => {\n            state.active = false;\n            state.updated = true;\n        });\n    });\n\n    mq.on('*', updateQueryTable, true);\n\n});"],"names":["window","matchMedia","styleMedia","media","style","document","createElement","script","getElementsByTagName","info","type","id","parentNode","insertBefore","getComputedStyle","currentStyle","text","styleSheet","cssText","textContent","width","matchMedium","addListener","localMatchMedia","hasMediaQueries","matches","isListening","timeoutID","handleChange","evt","setTimeout","i","il","queries","length","mql","listeners","j","jl","call","index","listener","addEventListener","push","removeListener","splice","exports","func","wait","immediate","timeout","context","args","arguments","Promise","resolve","later","apply","callNow","config","on","from","cbOn","cbOff","alwaysTrigger","arg","parseMatchInputString","inversePrefix","currState","prevState","matchesCurr","testState","matchesOn","matchesPrev","matchesFrom","shouldBeEnabled","isActive","state","some","includes","match","testAgainst","isInverse","inputString","split","map","startsWith","substring","queryRules","readyCallbacks","updateState","name","list","forEach","cb","updateStateAndExecRules","debounce","register","val","Array","isArray","doRegister","o","query","disallowedNames","test","Error","el","QueryRule","is","getState","ready","execQueryRules","exec","mq","states","classUpdateAnim","classActive","classInactive","updateQueryTable","requestAnimationFrame","active","updated","classList","remove","add","querySelectorAll","dataset","mqFrom"],"mappings":"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"}